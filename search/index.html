<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta property="og:locale" content="ja" />
	<meta property="og:type" content="article">
	<meta name="description" content="キーワードを入力するとリアルタイムで検索することができます。">
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:creator" content="">
	<meta name="twitter:title" content="Search" />
	<meta property="og:url" content="https://dpnote.netlify.app/search/" />
	<meta property="og:title" content="Search" />
	<meta property="og:description" content="キーワードを入力するとリアルタイムで検索することができます。" />
	<meta property="og:image" content="https://dpnote.netlify.app/" />
	<link rel="apple-touch-icon" sizes="180x180" href="https://dpnote.netlify.app/icons/apple-touch-icon.png">
	<link rel="manifest" href="https://dpnote.netlify.app/icons/site.webmanifest">
	<link rel="shortcut icon" href="https://dpnote.netlify.app/icons/favicon-32x32.png">
	<link rel="canonical" href="https://dpnote.netlify.app/search/">
    <link rel="preload" href="https://dpnote.netlify.app/css/styles.2b3290fc6e94839826981c23ed76e1831472bd3f8af68332da00b97d9430b56bfb7e9394d5c09aca633c093c621709cdd745eec940be733933ac5d876223de52.css" integrity = "sha512-KzKQ/G6Ug5gmmBwj7XbhgxRyvT&#43;K9oMy2gC5fZQwtWv7fpOU1cCaymM8CTxiFwnN10XuyUC&#43;czkzrF2HYiPeUg==" as="style" crossorigin="anonymous">
    <link rel="preload" href="https://dpnote.netlify.app/js/bundle.min.617c4c3549a10c9fe7e1bb91e87f0722f6a285b59e742c7123c755df9fb33530bae76060ebd303966dd0e1c09813e679f8042802b7fd059315ef1345f0429ad2.js" as="script" integrity=
    "sha512-YXxMNUmhDJ/n4buR6H8HIvaihbWedCxxI8dV35&#43;zNTC652Bg69MDlm3Q4cCYE&#43;Z5&#43;AQoArf9BZMV7xNF8EKa0g==" crossorigin="anonymous">
	<link rel="stylesheet" href='https://dpnote.netlify.app/css/custom.css'>
	<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <link rel="stylesheet" type="text/css" href="https://dpnote.netlify.app/css/styles.2b3290fc6e94839826981c23ed76e1831472bd3f8af68332da00b97d9430b56bfb7e9394d5c09aca633c093c621709cdd745eec940be733933ac5d876223de52.css" integrity="sha512-KzKQ/G6Ug5gmmBwj7XbhgxRyvT&#43;K9oMy2gC5fZQwtWv7fpOU1cCaymM8CTxiFwnN10XuyUC&#43;czkzrF2HYiPeUg==" crossorigin="anonymous">
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-202486341-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'UA-202486341-1');
	</script>
	<title>ブログ内検索 | DP Note</title>
	<script src="data.js"></script>
	<style>
    input {
      color: rgba(0, 119, 184, 0.5);
      font-size: 1.2em;
      font-weight: bolder;
      height: 45px;
    }
    input::-webkit-input-placeholder {
      color: rgba(0, 119, 184, 0.5);
    }
    #result {
      margin: 1em;
    }
    .item_title {
      text-decoration: none;
      color: rgba(0, 119, 184, 1);
      font-weight: bolder;
    }
    .item_excerpt {
      background: white;
      margin: 0.5em 2em 1em 1em;
      padding: 0.5em;
      font-size: smaller;
    }
    .item_excerpt b {
      	color:#666600;
		background-color:#ffffdd;
		font-weight:bold;
		border:1px solid #bbbb00;
		margin:0 2px 0 2px;
		padding:0 2px 0 2px;
    }
    .item {
    	border-top: 1px dotted #000;
    	padding-top: 1em;
    }
    .search_button{
    	cursor: pointer;
    	background-color: #0077b8;
    	color: #ffffff;
    	padding: 12px;
    	margin-left: 5px;
    	border-radius: 0.5em;
    }
	</style>
</head>

	<body data-code="100" data-lines="false" id="documentTop">

	<div id="header1">

	<h1 class="h_h1"><a href="https://dpnote.netlify.app/index.html">ＤＰ　Ｎｏｔｅ</a></h1>
	</div>
	
	<div class="h_s"><a href="https://dpnote.netlify.app/search/index.html"><div class="h_circle"><i class="fas fa-search"></i></div></a></div>
    <main>

<div class="grid-inverse wrap content">
  <article class="post_content">
    <h1 class="post_title">ブログ内検索</h1>
    <p>キーワードを入力するとリアルタイムで検索することができます。</p>
	<input onkeyup="search(this.value)" size="15" autocomplete="off" autofocus placeholder="検索ワード" />
	<span id="inputWord"></span> <span id="resultCount"></span>
	<div id="result"></div>

  </article>

<aside class="sidebar">
  <section class="sidebar_inner">
    
    <div>
      <h2 class="mt-4 taxonomy" id="tags-section">Category</h2>
      <ul class="ul_menu">
        <a href='http://localhost:1313/tags/%E7%81%BD%E5%AE%B3%E3%83%87%E3%83%BC%E3%82%BF%E5%8F%AF%E8%A6%96%E5%8C%96/'><li class="li_menu">
          災害データ可視化
          
        </li></a>
        
        <a href='http://localhost:1313/tags/%E9%98%B2%E7%81%BDdx/'><li class="li_menu">
          防災DX
          
        </li></a>
        
        <a href='http://localhost:1313/tags/%E9%98%B2%E7%81%BD%E5%85%A8%E8%88%AC/'><li class="li_menu">
          防災全般
          
        </li></a>
        
        <a href='http://localhost:1313/tags/%E9%A6%96%E9%83%BD%E7%9B%B4%E4%B8%8B%E5%9E%8B%E5%9C%B0%E9%9C%87/'><li class="li_menu">
          首都直下型地震
          
        </li></a>
        
        <a href='http://localhost:1313/tags/%E5%8D%97%E6%B5%B7%E3%83%88%E3%83%A9%E3%83%95%E5%9C%B0%E9%9C%87/'><li class="li_menu">
          南海トラフ地震
          
        </li></a>
        
        <a href='http://localhost:1313/tags/%E7%81%BD%E5%AE%B3%E4%BA%8B%E4%BE%8B%E9%9B%86/'><li class="li_menu">
          災害事例集
          
        </li></a>
        
        <a href='http://localhost:1313/tags/%E3%82%A2%E3%83%B3%E3%82%B1%E3%83%BC%E3%83%88/'><li class="li_menu">
          アンケート
          
        </li></a>
        
        
      </ul>
    </div>
  </section>
  
  <section class="sidebar_inner">
      <div>
      <h2 class="mt-4 taxonomy" id="tags-section">防災アプリ紹介</h2>
      <ul class="ul_menu">
      
       <a href='https://linkevery2s.github.io/bsinsight/index.html' target="_blank"><img src="https://dpnote.netlify.app/images/application/bsinsight.jpg" alt="防災INSIGHT" width="100%"></a>
       
        <a href='https://linkevery2s.github.io/iamherenow/index.html' target="_blank"><img src="https://dpnote.netlify.app/images/application/iamherenow.jpg" alt="今、ここにいるよ。" width="100%"></a>
        
        <a href='https://covid19dynamics.netlify.app/index.html' target="_blank"><img src="https://dpnote.netlify.app/images/application/covid19.jpg" alt="COVID-19 感染症動態" width="100%"></a>
        
      </ul>
    </div>
  </section>
</aside>

</div>
    </main>

<footer class="footer">
  <div class="foot">
  <a href="https://creativecommons.org/licenses/by/4.0/deed.ja" target="_blank"><img src="https://dpnote.netlify.app/images/license.png" alt="CC BY 4.0 license"></a>
  <p>このブログの記事は、<a href="https://creativecommons.org/licenses/by/4.0/deed.ja" target="_blank" class="footer_link">CC BY 4.0 <i class="fas fa-external-link-alt"></i></a> のもと公開しています。</p>
  <center>
    
    <a href="https://twitter.com/hitoshi2sl" target="_blank"><div class="circle1"><i class="fab fa-twitter"></i></div></a><a href="https://www.instagram.com/hitoshi17l/" target="_blank"><div class="circle2"><i class="fab fa-instagram"></i></div></a><a href="https://docs.google.com/forms/d/e/1FAIpQLSf-WMoBJRTdA1bmN_SmQ-bsNGeLs1l737d3c9BUNuErjH-KBw/viewform" target="_blank"><div class="circle4"><i class="far fa-envelope"></i></div></a><a href="https://dpnote.netlify.app/index.xml" target="_blank"><div class="circle3"><i class="fas fa-rss-square"></i></div></a>
    
    <br>
    <i class="fa fa-copyright" aria-hidden="true"></i> 仁志. By <a href="https://gohugo.io/" target="_blank" class="footer_link">hugo</a>
    </center>
  </div>
</footer>

    <script type="text/javascript" src="https://dpnote.netlify.app/js/bundle.min.617c4c3549a10c9fe7e1bb91e87f0722f6a285b59e742c7123c755df9fb33530bae76060ebd303966dd0e1c09813e679f8042802b7fd059315ef1345f0429ad2.js" integrity="sha512-YXxMNUmhDJ/n4buR6H8HIvaihbWedCxxI8dV35&#43;zNTC652Bg69MDlm3Q4cCYE&#43;Z5&#43;AQoArf9BZMV7xNF8EKa0g==" crossorigin="anonymous"></script>

<script>
function search(query) {
  var result = searchData(query);
  var html = createHtml(result);
  showResult(html);
  showResultCount(result.length, data.length);
}

function searchData(query) {
  
  
  var result = [];

  query = query.trim();
  if (query.length < 1) {
    return result;
  }
  var re = new RegExp(query, 'i');
  for (var i = 0; i < data.length; ++i) {
    var pos = data[i].body.search(re);
    if (pos != -1) {
      result.push([i, pos, pos + query.length]);
    }
  }
  return result;
}

function createHtml(result) {
  var htmls = [];
  for (var i = 0; i < result.length; ++i) {
    var dataIndex = result[i][0];
    var startPos = result[i][1];
    var endPos = result[i][2];
    var url = data[dataIndex].url;
    var title = data[dataIndex].title;
    var body = data[dataIndex].body;
    htmls.push(createEntry(url, title, body, startPos, endPos));
  }
  return htmls.join('');
}

function createEntry(url, title, body, startPos, endPos) {
  return '<div class="item">' +
      '<a class="item_title" href="' + url + '">' + title + '</a>' +
      '<div class="item_excerpt">' + excerpt(body, startPos, endPos) + '</div>' +
      '</div>';
}

function excerpt(body, startPos, endPos) {
  return [
    body.substring(startPos - 30, startPos),
    '<b>', body.substring(startPos, endPos), '</b>',
    body.substring(endPos, endPos + 200)
  ].join('');
}

function showResult(html) {
  var el = document.getElementById('result');
  el.innerHTML = html;
}

function showResultCount(count, total) {
  var el = document.getElementById('resultCount');
  el.innerHTML = '<b>' + count + '</b> 件見つかりました（' + total + '件中）';
}
</script>
</body>
</html>